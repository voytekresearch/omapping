% Script generated by Brainstorm (24-Nov-2015)

% Input files
sFiles = {...
    'Subject_003/subj003_run_01_AUX_bl/data_block001.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block002.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block004.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block007.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block008.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block009.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block010.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block011.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block012.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block013.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block014.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block015.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block016.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block017.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block018.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block019.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block020.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block021.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block022.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block023.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block024.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block025.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block026.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block027.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block028.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block029.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block030.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block031.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block032.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block033.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block034.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block035.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block036.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block037.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block038.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block039.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block040.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block041.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block042.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block043.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block044.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block045.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block046.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block047.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block048.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block049.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block050.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block051.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block052.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block053.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block054.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block055.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block056.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block057.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block058.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block059.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block060.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block061.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block062.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block063.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block064.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block065.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block066.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block067.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block068.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block069.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block070.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block071.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block072.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block073.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block074.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block075.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block076.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block077.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block078.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block079.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block080.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block081.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block082.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block083.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block084.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block085.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block086.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block087.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block088.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block089.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block090.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block091.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block092.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block093.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block094.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block095.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block096.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block097.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block098.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block099.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block100.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block101.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block102.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block103.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block104.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block105.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block106.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block107.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block108.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block109.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block110.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block111.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block112.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block113.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block114.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block115.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block116.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block117.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block118.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block119.mat', ...
    'Subject_003/subj003_run_01_AUX_bl/data_block120.mat'};

% Start a new report
bst_report('Start', sFiles);

% Process: Compute head model
sFiles = bst_process('CallProcess', 'process_headmodel', sFiles, [], ...
    'comment', '', ...
    'sourcespace', 1, ...  % Cortex surface
    'meg', 3, ...  % Overlapping spheres
    'eeg', 3, ...  % OpenMEEG BEM
    'ecog', 2, ...  % OpenMEEG BEM
    'seeg', 2, ...  % OpenMEEG BEM
    'openmeeg', struct(...
         'BemFiles', {{}}, ...
         'BemNames', {{'Scalp', 'Skull', 'Brain'}}, ...
         'BemCond', [1, 0.0125, 1], ...
         'BemSelect', [1, 1, 1], ...
         'isAdjoint', 0, ...
         'isAdaptative', 1, ...
         'isSplit', 0, ...
         'SplitLength', 4000), ...
    'source_abs', -1);

% Process: Compute sources
sFiles = bst_process('CallProcess', 'process_inverse', sFiles, [], ...
    'comment', '', ...
    'method', 1, ...  % Minimum norm estimates (wMNE)
    'wmne', struct(...
         'NoiseCov', [], ...
         'InverseMethod', 'wmne', ...
         'ChannelTypes', {{}}, ...
         'SNR', 3, ...
         'diagnoise', 0, ...
         'SourceOrient', {{'fixed'}}, ...
         'loose', 0.2, ...
         'depth', 1, ...
         'weightexp', 0.5, ...
         'weightlimit', 10, ...
         'regnoise', 1, ...
         'magreg', 0.1, ...
         'gradreg', 0.1, ...
         'eegreg', 0.1, ...
         'ecogreg', 0.1, ...
         'seegreg', 0.1, ...
         'fMRI', [], ...
         'fMRIthresh', [], ...
         'fMRIoff', 0.1, ...
         'pca', 1), ...
    'sensortypes', 'MEG', ...
    'output', 1, ...  % Kernel only: shared
    'source_abs', -1);

% Process: Project on default anatomy
sFiles = bst_process('CallProcess', 'process_project_sources', sFiles, [], ...
    'source_abs', -1);

% Save and display report
ReportFile = bst_report('Save', sFiles);
bst_report('Open', ReportFile);